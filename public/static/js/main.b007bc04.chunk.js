(this.webpackJsonpgestion=this.webpackJsonpgestion||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(22),r=a.n(c),o=(a(76),a(77),a(115)),m=a(114),u=a(113),i=a(31),s=a(4),d=a(7),E=a.n(d),b={baseUrl:"http://localhost:8000",baseApiUrl:"http://localhost:8000/api"},f=l.a.createContext();function h(e){var t=Object(n.useState)(localStorage.getItem("usuario")),a=Object(s.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(null),m=Object(s.a)(o,2),u=m[0],i=m[1];Object(n.useEffect)((function(){r(localStorage.getItem("usuario"))}),[]);var d=function(e){E.a.defaults.withCredentials=!0,E.a.get(b.baseUrl+"/sanctum/csrf-cookie",{withCredentials:!0}).then((function(t){!function(e){E.a.post(b.baseApiUrl+"/login",e,{withCredentials:!0}).then((function(e){r(e.data.email),localStorage.setItem("usuario",e.data.email),i(null)})).catch((function(e){}))}(e)})).catch((function(e){}))};function h(){r(null),localStorage.removeItem("usuario")}var p=Object(n.useMemo)((function(){return{usuario:c,login:d,logout:h,loginError:u}}),[c,u]);return l.a.createElement(f.Provider,Object.assign({value:p},e))}function p(){var e=l.a.useContext(f);if(!e)throw new Error("useUsuario no puede ser nulo");return e}var g=function(){var e=p(),t=e.usuario,a=e.logout,n=[{nombre:"Clientes",path:"/Clientes",id:1},{nombre:"Stock",path:"/Stock",id:2},{nombre:"Insumos",path:"/Insumos",id:3},{nombre:"Ventas",path:"/Ventas",id:4},{nombre:"Proveedores",path:"/Proveedores",id:5},{nombre:"Compras",path:"/Compras",id:6},{nombre:"Cuenta Corriente",path:"/Cuenta",id:7}].map((function(e){return l.a.createElement(o.a.Link,{as:i.c,eventKey:e.id,key:e.path,className:"nav-link",to:e.path,activeclassname:"active"},e.nombre)}));return l.a.createElement(m.a,{collapseOnSelect:!0,expand:"lg"},l.a.createElement(m.a.Brand,{href:"#home"},"Gesti\xf3n"),l.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(o.a,{className:"mr-auto"},null!=t&&n),l.a.createElement(o.a,{className:"ml-auto"},null!=t?l.a.createElement(u.a,{alignRight:!0,title:t,id:"collasible-nav-dropdown"},l.a.createElement(u.a.Item,{href:"#action/3.3"},"Ajustes"),l.a.createElement(u.a.Divider,null),l.a.createElement(u.a.Item,{href:"#",onClick:a},"Cerrar Sesi\xf3n")):l.a.createElement(o.a.Link,{as:i.b,className:"nav-link",to:"login",activeClassName:"active"},"Iniciar Sesi\xf3n"))))},v=a(108),C=a(109),y=a(65),N=a(116),j=a(110),x=(a(62),function(e){return l.a.createElement("div",{className:"fg",style:{height:60}},l.a.createElement("input",{type:e.type,placeholder:" ",onChange:e.onChange,defaultValue:e.value,readOnly:e.readOnly}),l.a.createElement("label",null,e.label))}),O=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),m=o[0],u=o[1],i=Object(n.useState)(!1),d=Object(s.a)(i,2),f=d[0],h=d[1],p=Object(n.useState)(!1),g=Object(s.a)(p,2),O=g[0],w=g[1],S=Object(n.useState)({nombre:"",ubicacion:"",mail:""}),k=Object(s.a)(S,2),A=k[0],I=k[1];function L(e,t){A[t]=e.target.value}function F(){I({nombre:"",ubicacion:"",mail:""}),E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/clientes",{withCredentials:!0}).then((function(e){c(e.data),u(e.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){F()}),[]),l.a.createElement(v.a,{className:"mt-3"},f||O?l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){f?h(!1):O&&w(!1)}},"Volver")),l.a.createElement(y.a,{xs:6,md:8,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"Nuevo Cliente")),l.a.createElement(y.a,{xs:3,md:2}))))),l.a.createElement(N.a,{className:"py-4"},l.a.createElement(C.a,null,l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Nombre",value:A.nombre,onChange:function(e){return L(e,"nombre")}})),l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Ubicacion",value:A.ubicacion,onChange:function(e){return L(e,"ubicacion")}})),l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Correo electr\xf3nico",value:A.mail,onChange:function(e){return L(e,"mail")}}))),l.a.createElement(C.a,{className:"justify-content-center mt-3"},l.a.createElement("button",{onClick:function(){f?E.a.post(b.baseApiUrl+"/clientes",A).then((function(e){h(!1),F()})):O&&E.a.patch(b.baseApiUrl+"/clientes/"+A.id,A).then((function(e){w(!1),F()}))}},"Guardar")))):l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){I({nombre:"",ubicacion:"",mail:""}),h(!0)}},"Agregar")),l.a.createElement(y.a,{xs:9,md:8},l.a.createElement("input",{onChange:function(e){var t=e.target.value;c(m.filter((function(e){return e.nombre.toLowerCase().includes(t.toLowerCase())||e.ubicacion.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())})))},className:"search-field",placeholder:"Escribe lo que deseas buscar"})),l.a.createElement(y.a,{xs:0,md:2,style:{textAlign:"end"}}))))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement(j.a,{bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"20%"},"Nombre"),l.a.createElement("th",{width:"40%"},"Direcci\xf3n"),l.a.createElement("th",{width:"40%"},"Email"))),l.a.createElement("tbody",null,a.map((function(e,t){return l.a.createElement("tr",{key:t,onClick:function(e){return function(e){I(a[e]),w(!f)}(t)}},l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Nombre"),e.nombre),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Ubicaci\xf3n"),e.ubicacion),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Email"),e.mail))}))))))))},w=a(10),S=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(s.a)(e,2),a=t[0],c=(t[1],p()),r=c.login,o=c.loginError;return l.a.createElement(N.a,{className:"login"},l.a.createElement("h5",{style:{textAlign:"center",marginBottom:30}},"Iniciar Sesi\xf3n"),l.a.createElement(x,{label:"Nombre de Usuario",type:"text",id:"usuario",onChange:function(e){return m(e,"email")}}),l.a.createElement(x,{label:"Contrase\xf1a",type:"password",id:"password",onChange:function(e){return m(e,"password")}}),null!=o&&l.a.createElement("p",{style:{fontSize:"13px",color:"#f92a2a",transition:".5s"}},o),l.a.createElement("button",{onClick:function(e){return r(a)},style:{marginTop:40}},"Iniciar"));function m(e,t){a[t]=e.target.value}},k=a(69),A=function(e){var t=e.component,a=e.auth,n=e.redirectTo,c=Object(k.a)(e,["component","auth","redirectTo"]);return l.a.createElement(w.b,Object.assign({},c,{render:function(e){return!0===a?l.a.createElement(t,e):l.a.createElement(w.a,{to:n})}}))},I=a(111),L=a(112),F={formatDate:function(e){if(null==e||0==e.length)return"";var t=e.substring(8,e.length);return t+="-"+e.substring(5,7),t+="-"+e.substring(0,4)}},P=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),m=o[0],u=o[1],i=Object(n.useState)(0),d=Object(s.a)(i,2),f=d[0],h=d[1],p=Object(n.useState)(null),g=Object(s.a)(p,2),O=g[0],w=g[1],S=Object(n.useState)([]),k=Object(s.a)(S,2),A=k[0],P=k[1],U=Object(n.useState)([]),T=Object(s.a)(U,2),V=T[0],D=T[1],$=Object(n.useState)([]),G=Object(s.a)($,2),H=G[0],_=G[1],B=Object(n.useState)([]),q=Object(s.a)(B,2),X=q[0],z=q[1],M=Object(n.useState)(!1),J=Object(s.a)(M,2),R=J[0],W=J[1],K=Object(n.useState)(!1),Q=Object(s.a)(K,2),Y=Q[0],Z=Q[1],ee=Object(n.useState)(!1),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)({cliente:{},producto_venta:[]}),ce=Object(s.a)(le,2),re=ce[0],oe=ce[1],me=Object(n.useState)({nombre:"",ubicacion:"",mail:""}),ue=Object(s.a)(me,2),ie=ue[0],se=ue[1],de=Object(n.useState)(""),Ee=Object(s.a)(de,2),be=Ee[0],fe=Ee[1],he=function(){Z(!1),w(null),console.log(O)};function pe(e,t){var a;ie[t]=e.target.value,"cuenta"==ie.formaPago&&(a=l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"date",label:"A cobrar el",value:ie.fechaPendiente,onChange:function(e){return pe(e,"fechaPendiente")}}))),fe(a)}function ge(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/ventas",{withCredentials:!0}).then((function(e){D(e.data.data),console.log(e.data.data),z(e.data.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/productos",{withCredentials:!0}).then((function(e){P(e.data.data)})).catch((function(e){console.log(e)})),ge(),E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/clientes",{withCredentials:!0}).then((function(e){_(e.data)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement(n.Fragment,null,l.a.createElement(I.a,{show:ae,onHide:function(){ne(!1)}},l.a.createElement(I.a.Header,{className:"d-block"},l.a.createElement(I.a.Title,{className:"text-center"},"Detalle de Venta")),l.a.createElement(I.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Fecha:")," ",F.formatDate(re.fecha))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Cliente:")," ",re.cliente.nombre)),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Total:")," $",re.total)),l.a.createElement("div",{className:"itemProducto"},re.producto_venta.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.producto.nombre," a $",e.precio," X ",e.cantidad)}))))),l.a.createElement(I.a,{show:Y,onHide:he},l.a.createElement(I.a.Header,{className:"d-block"},l.a.createElement(I.a.Title,{className:"text-center"},"Agregar Producto")),l.a.createElement(I.a.Body,null,l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Productos"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",onChange:function(e){return function(e){var t=A.filter((function(t){return t.productoId==e}));null!=t&&w(t[0])}(e.target.value)}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione un producto"),A.map((function(e,t){return l.a.createElement("option",{key:t,value:e.productoId},e.nombre)})))),null!=O&&l.a.createElement(n.Fragment,null,l.a.createElement("div",null,"En existencia: ",O.cantidad),l.a.createElement("div",null,"Precio: $",O.precioVenta)),l.a.createElement("div",{className:"fg",style:{height:60,marginTop:"0.5rem"}},l.a.createElement("input",{type:"number",placeholder:" ",style:{width:"100%"},onChange:function(e){return h(e.target.value)}}),l.a.createElement("label",null,"Cantidad")),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{onClick:function(){var e=m,t=O,n=a;t.cantidad=f,e.push(t),n+=Number(f)*Number(t.precioVenta),c(n),u(e),ie.productos=e,ie.total=n,he()}},"Agregar")))),l.a.createElement(v.a,{className:"mt-3"},R?l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){R&&W(!1)}},"Volver")),l.a.createElement(y.a,{xs:6,md:8,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"Nuevo venta")),l.a.createElement(y.a,{xs:3,md:2}))))),l.a.createElement(N.a,{className:"py-4"},l.a.createElement(C.a,{className:"justify-content-center"},l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"date",label:"Fecha",value:ie.fecha,onChange:function(e){return pe(e,"fecha")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Cliente"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",style:{width:"250px"},onChange:function(e){return pe(e,"venta_clienteId")}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione un cliente"),H.map((function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.nombre)}))))),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Forma de Pago"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",style:{width:"250px"},onChange:function(e){return pe(e,"formaPago")}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione una forma de pago"),l.a.createElement("option",{value:"efectivo"},"Efectivo"),l.a.createElement("option",{value:"cuenta"},"A cuenta")))),be),l.a.createElement(C.a,{className:"mt-3"},l.a.createElement(y.a,{className:"justify-content-center text-right"},l.a.createElement("h5",null,"Productos")),l.a.createElement(y.a,{style:{alignSelf:"center"}},l.a.createElement("button",{className:"compact",onClick:function(){return Z(!0)}},"Agregar"))),l.a.createElement(C.a,null,m?l.a.createElement(y.a,{className:"itemProducto"},m.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.nombre," X ",e.cantidad)}))):l.a.createElement(y.a,{className:"text-center py-5"},l.a.createElement("div",null,"No hay insumos cargados"))),l.a.createElement(C.a,null,l.a.createElement(y.a,{className:"text-center mt-5"},l.a.createElement("h5",null,"Subtotal: $",a))),l.a.createElement(C.a,{className:"justify-content-center mt-5"},l.a.createElement("button",{onClick:function(){R&&E.a.post(b.baseApiUrl+"/ventas",ie).then((function(e){console.log(e),W(!1),fe(""),c(0),se({nombre:"",ubicacion:"",mail:""}),u([]),ge()}))}},"Confirmar Venta")))):l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){se({}),W(!0)}},"Agregar")),l.a.createElement(y.a,{xs:9,md:8},l.a.createElement("input",{onChange:function(e){var t=e.target.value;D(X.filter((function(e){return e.nombre.toLowerCase().includes(t.toLowerCase())||e.ubicacion.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())})))},className:"search-field",placeholder:"Escribe lo que deseas buscar"})),l.a.createElement(y.a,{xs:0,md:2,style:{textAlign:"end"}}))))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement(j.a,{bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"20%"},"Fecha"),l.a.createElement("th",{width:"40%"},"Cliente"),l.a.createElement("th",{width:"40%"},"Acciones"))),l.a.createElement("tbody",null,Array.isArray(V)&&V.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Fecha"),F.formatDate(e.fecha)),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Cliente"),e.cliente.nombre),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Acciones"),l.a.createElement("button",{className:"borderless",onClick:function(t){return function(e){oe(e),ne(!0)}(e)}},"Detalle")))})))))))))},U=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),m=o[0],u=o[1],i=Object(n.useState)([]),d=Object(s.a)(i,2),f=d[0],h=d[1],p=Object(n.useState)(!1),g=Object(s.a)(p,2),O=g[0],w=g[1],S=Object(n.useState)(!1),k=Object(s.a)(S,2),A=k[0],I=k[1],F=Object(n.useState)({nombre:"",cantidad:"",unidad:"",costo:""}),P=Object(s.a)(F,2),U=P[0],T=P[1];function V(e,t){U[t]=e.target.value}function D(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/insumos",{withCredentials:!0}).then((function(e){u(e.data.data),h(e.data.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/proveedores",{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){console.log(e)})),D()}),[]),l.a.createElement(v.a,{className:"mt-3"},O||A?l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){O?w(!1):A&&I(!1)}},"Volver")),l.a.createElement(y.a,{xs:6,md:8,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,O?l.a.createElement("div",null,"Nuevo Insumo"):l.a.createElement("div",null,"Editar Insumo"))),l.a.createElement(y.a,{xs:3,md:2}))))),l.a.createElement(N.a,{className:"py-4"},l.a.createElement(C.a,{className:"justify-content-center"},l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Nombre",value:U.nombre,onChange:function(e){return V(e,"nombre")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Existencia",value:U.cantidad,readOnly:A,onChange:function(e){return V(e,"cantidad")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"($)Costo",value:U.costo,onChange:function(e){return V(e,"costo")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Proveedor"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",style:{width:"250px"},onChange:function(e){return V(e,"proveedorId")}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione un proveedor"),a.map((function(e,t){return l.a.createElement("option",{key:t,value:e.proveedorId},e.nombre)})))))),l.a.createElement(C.a,{className:"justify-content-center mt-3"},l.a.createElement("button",{onClick:function(){O?E.a.post(b.baseApiUrl+"/insumos",U).then((function(e){w(!1),T({nombre:"",cantidad:"",unidad:"",costo:""}),D()})):A&&E.a.patch(b.baseApiUrl+"/insumos/"+U.insumoId,U).then((function(e){I(!1),T({nombre:"",cantidad:"",unidad:"",costo:""}),D()}))}},"Guardar")))):l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){T({nombre:"",ubicacion:"",mail:""}),w(!0)}},"Agregar")),l.a.createElement(y.a,{xs:9,md:8},l.a.createElement("input",{onChange:function(e){var t=e.target.value;u(f.filter((function(e){return e.nombre.toLowerCase().includes(t.toLowerCase())||e.ubicacion.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())})))},className:"search-field",placeholder:"Escribe lo que deseas buscar"})),l.a.createElement(y.a,{xs:0,md:2,style:{textAlign:"end"}}))))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement(j.a,{bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"20%"},"Nombre"),l.a.createElement("th",{width:"40%"},"Cantidad"),l.a.createElement("th",{width:"40%"},"Costo"))),l.a.createElement("tbody",null,m.map((function(e,t){return l.a.createElement("tr",{key:t,onClick:function(e){return function(e){T(m[e]),I(!O)}(t)}},l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Nombre"),e.nombre),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Cantidad"),e.cantidad),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Costo"),"$",e.costo))}))))))))},T=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),m=o[0],u=o[1],i=Object(n.useState)([]),d=Object(s.a)(i,2),f=d[0],h=d[1],p=Object(n.useState)(!1),g=Object(s.a)(p,2),O=g[0],w=g[1],S=Object(n.useState)(!1),k=Object(s.a)(S,2),A=k[0],F=k[1],P=Object(n.useState)(!1),U=Object(s.a)(P,2),T=U[0],V=U[1],D=Object(n.useState)({nombre:"",cantidad:"",unidad:"",costo:0,insumos:[]}),$=Object(s.a)(D,2),G=$[0],H=$[1],_=Object(n.useState)(!1),B=Object(s.a)(_,2),q=B[0],X=B[1],z=Object(n.useState)({nombre:"",cantidad:"",unidad:"",costo:0,insumos:[]}),M=Object(s.a)(z,2),J=M[0],R=M[1],W=Object(n.useState)(null),K=Object(s.a)(W,2),Q=K[0],Y=K[1],Z=Object(n.useState)(0),ee=Object(s.a)(Z,2),te=ee[0],ae=ee[1],ne=function(){return X(!1)},le=function(){return V(!1)};function ce(e){H(a[e]),F(!O)}function re(e,t){G[t]=e.target.value}function oe(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/productos",{withCredentials:!0}).then((function(e){c(e.data.data),u(e.data.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/insumos",{withCredentials:!0}).then((function(e){h(e.data.data)})).catch((function(e){console.log(e)})),oe()}),[]),l.a.createElement(v.a,{className:"mt-3"},l.a.createElement(I.a,{show:T,onHide:le},l.a.createElement(I.a.Header,{className:"d-block"},l.a.createElement(I.a.Title,{className:"text-center"},"Agregar Insumos")),l.a.createElement(I.a.Body,null,l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Insumos"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",onChange:function(e){return function(e){var t=f.filter((function(t){return t.insumoId==e}));null!=t&&Y(t[0])}(e.target.value)}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione un insumo"),f.map((function(e,t){return l.a.createElement("option",{key:t,value:e.insumoId},e.nombre)})))),l.a.createElement("div",{className:"fg",style:{height:60}},l.a.createElement("input",{type:"number",placeholder:" ",style:{width:"100%"},onChange:function(e){return t=e.target.value,void(null!=Q&&ae(t));var t}}),l.a.createElement("label",null,"Cantidad")),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{onClick:function(e){return function(){if(null!=Q&&null!=te){var e=Q;e.cantidadUsada=Number(te),e.insumo_insumoId=e.insumoId,e.precioVenta=Number(e.precioVenta),e.pivot={cantidadUsada:te,insumo_insumoId:e.insumo_insumoId},G.insumos.push(e),le()}}()}},"Agregar")))),l.a.createElement(I.a,{show:q,onHide:ne},l.a.createElement(I.a.Header,{className:"d-block"},l.a.createElement(I.a.Title,{className:"text-center"},"Insumos de ",J.nombre)),l.a.createElement(I.a.Body,{style:{paddingLeft:"0",paddingRight:"0"}},l.a.createElement("div",{className:"itemProducto"},J.insumos.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.nombre," ",l.a.createElement("strong",null,"|")," Cantidad utilizada:",e.pivot.cantidadUsada)}))),l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement("button",{onClick:ne},"Cerrar")))),O||A?l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){O?w(!1):A&&F(!1)}},"Volver")),l.a.createElement(y.a,{xs:6,md:8,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,O?l.a.createElement("div",null,"Nuevo Producto"):l.a.createElement("div",null,"Editar Producto"))),l.a.createElement(y.a,{xs:3,md:2}))))),l.a.createElement(N.a,{className:"py-4"},l.a.createElement(C.a,null,l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Nombre",value:G.nombre,readOnly:A,onChange:function(e){return re(e,"nombre")}})),l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Existencia",value:G.cantidad,onChange:function(e){return re(e,"cantidad")}})),l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Precio de venta",value:G.precioVenta,readOnly:A,onChange:function(e){return re(e,"precioVenta")}}))),l.a.createElement(C.a,{className:"mt-3"},l.a.createElement(y.a,{className:"justify-content-center ".concat(O?"text-right":"text-center")},l.a.createElement("h5",null,"Insumos")),O&&l.a.createElement(y.a,{style:{alignSelf:"center"}},l.a.createElement("button",{className:"compact",onClick:function(){return V(!0)}},"Agregar"))),l.a.createElement(C.a,null,G.insumos?l.a.createElement(y.a,{className:"itemProducto"},G.insumos.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.nombre," ",l.a.createElement("strong",null,"|")," Cantidad utilizada:",e.pivot.cantidadUsada)}))):l.a.createElement(y.a,{className:"text-center py-5"},l.a.createElement("div",null,"No hay insumos cargados"))),l.a.createElement(C.a,{className:"justify-content-center mt-5"},l.a.createElement("button",{onClick:function(){var e=G,t=[];O?(e.insumos.forEach((function(e){t.push({insumo_insumoId:e.insumoId,cantidadUsada:e.cantidadUsada})})),e.insumos=t,E.a.post(b.baseApiUrl+"/productos",e).then((function(e){w(!1),c([]),H({nombre:"",cantidad:"",unidad:"",costo:0,insumos:[]}),oe()}))):A&&(e.insumos.forEach((function(e){t.push({insumo_insumoId:e.pivot.insumo_insumoId,cantidadUsada:e.pivot.cantidadUsada})})),e.insumos=t,E.a.patch(b.baseApiUrl+"/productos/"+G.productoId,e).then((function(e){F(!1),c([]),H({nombre:"",cantidad:"",unidad:"",costo:0,insumos:[]}),oe()})))}},"Guardar")))):l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){H({nombre:"",cantidad:"",unidad:"",costo:0,insumos:[]}),w(!0)}},"Agregar")),l.a.createElement(y.a,{xs:9,md:8},l.a.createElement("input",{onChange:function(e){var t=e.target.value;c(m.filter((function(e){return e.nombre.toLowerCase().includes(t.toLowerCase())||e.ubicacion.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())})))},className:"search-field",placeholder:"Escribe lo que deseas buscar"})),l.a.createElement(y.a,{xs:0,md:2,style:{textAlign:"end"}}))))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement(j.a,{bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"20%"},"Nombre"),l.a.createElement("th",{width:"30%"},"Existencia"),l.a.createElement("th",{width:"30%"},"Precio de Venta"),l.a.createElement("th",{width:"20%"}))),l.a.createElement("tbody",null,a.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{onClick:function(e){return ce(t)}},l.a.createElement("div",{className:"td-tag"},"Nombre"),e.nombre),l.a.createElement("td",{onClick:function(e){return ce(t)}},l.a.createElement("div",{className:"td-tag"},"Existencia"),e.cantidad),l.a.createElement("td",{onClick:function(e){return ce(t)}},l.a.createElement("div",{className:"td-tag"},"Precio de venta"),"$",e.precioVenta),l.a.createElement("td",null,l.a.createElement("button",{className:"borderless",onClick:function(t){return R(e),void X(!0)}},"Ver insumos")))}))))))))},V=function(){return l.a.createElement(v.a,null,l.a.createElement(N.a,{className:"mt-5 pt-3 pb-3"},l.a.createElement(C.a,null,l.a.createElement(y.a,{className:"text-center"},l.a.createElement("h4",null,"Bienvenido!"))),l.a.createElement(C.a,{className:"text-center"},l.a.createElement(y.a,null,l.a.createElement("button",null,"Iniciar Sesion")))))},D=function(){return l.a.createElement(v.a,null,l.a.createElement(N.a,{className:"mt-5 pt-3 pb-3"},l.a.createElement(C.a,null,l.a.createElement(y.a,{className:"text-center"},l.a.createElement("h5",null,"Alerta de insumos"))),l.a.createElement(C.a,{className:"text-center"})),l.a.createElement(N.a,{className:"mt-5 pt-3 pb-3"},l.a.createElement(C.a,null,l.a.createElement(y.a,{className:"text-center"},l.a.createElement("h5",null,"Balance cuenta corriente"))),l.a.createElement(C.a,{className:"text-center"})))},$=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),m=(o[0],o[1]),u=Object(n.useState)(!1),i=Object(s.a)(u,2),d=i[0],f=i[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),g=p[0],O=p[1],w=Object(n.useState)(!1),S=Object(s.a)(w,2),k=(S[0],S[1],Object(n.useState)({nombre:"",telefono:"",email:""})),A=Object(s.a)(k,2),I=A[0],L=A[1],F=Object(n.useState)(null),P=Object(s.a)(F,2);P[0],P[1];function U(e){L(a[e]),O(!d)}function T(e,t){I[t]=e.target.value}function V(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/proveedores",{withCredentials:!0}).then((function(e){c(e.data),m(e.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){V()}),[]),l.a.createElement(v.a,{className:"mt-3"},d||g?l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){d?f(!1):g&&O(!1)}},"Volver")),l.a.createElement(y.a,{xs:6,md:8,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,d?l.a.createElement("div",null,"Agregar proveedor"):l.a.createElement("div",null,"Editar"))),l.a.createElement(y.a,{xs:3,md:2}))))),l.a.createElement(N.a,{className:"py-4"},l.a.createElement(C.a,null,l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Nombre",value:I.nombre,onChange:function(e){return T(e,"nombre")}})),l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Tel\xe9fono",value:I.telefono,onChange:function(e){return T(e,"telefono")}})),l.a.createElement(y.a,{className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Email",value:I.email,onChange:function(e){return T(e,"email")}}))),l.a.createElement(C.a,{className:"justify-content-center mt-5"},l.a.createElement("button",{onClick:function(){d?E.a.post(b.baseApiUrl+"/proveedores",I).then((function(e){f(!1),L({nombre:"",telefono:"",email:""}),V()})):g&&E.a.patch(b.baseApiUrl+"/proveedores/"+I.proveedorId,I).then((function(e){O(!1),L({nombre:"",telefono:"",email:""}),V()}))}},"Guardar")))):l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){L({nombre:"",telefono:"",email:"",saldo:0}),f(!0)}},"Agregar")),l.a.createElement(y.a,{xs:9,md:8},l.a.createElement("input",{onChange:function(e){e.target.value},className:"search-field",placeholder:"Escribe lo que deseas buscar"})),l.a.createElement(y.a,{xs:0,md:2,style:{textAlign:"end"}}))))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement(j.a,{bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"20%"},"Nombre"),l.a.createElement("th",{width:"20%"},"Tel\xe9fono"),l.a.createElement("th",{width:"20%"},"Email"))),l.a.createElement("tbody",null,Array.isArray(a)&&a.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{onClick:function(e){return U(t)}},l.a.createElement("div",{className:"td-tag"},"Nombre"),e.nombre),l.a.createElement("td",{onClick:function(e){return U(t)}},l.a.createElement("div",{className:"td-tag"},"Tel\xe9fono"),e.telefono),l.a.createElement("td",{onClick:function(e){return U(t)}},l.a.createElement("div",{className:"td-tag"},"Email"),e.email))}))))))))},G=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),m=o[0],u=o[1],i=Object(n.useState)(0),d=Object(s.a)(i,2),f=d[0],h=d[1],p=Object(n.useState)(null),g=Object(s.a)(p,2),O=g[0],w=g[1],S=Object(n.useState)([]),k=Object(s.a)(S,2),A=k[0],P=k[1],U=Object(n.useState)([]),T=Object(s.a)(U,2),V=T[0],D=T[1],$=Object(n.useState)([]),G=Object(s.a)($,2),H=G[0],_=G[1],B=Object(n.useState)([]),q=Object(s.a)(B,2),X=q[0],z=q[1],M=Object(n.useState)(!1),J=Object(s.a)(M,2),R=J[0],W=J[1],K=Object(n.useState)(!1),Q=Object(s.a)(K,2),Y=Q[0],Z=Q[1],ee=Object(n.useState)({nombre:"",ubicacion:"",mail:""}),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)({proveedor:{},insumos:[]}),ce=Object(s.a)(le,2),re=ce[0],oe=ce[1],me=Object(n.useState)(!1),ue=Object(s.a)(me,2),ie=ue[0],se=ue[1],de=Object(n.useState)(""),Ee=Object(s.a)(de,2),be=Ee[0],fe=Ee[1],he=function(){Z(!1),w(null)};function pe(e,t){var a;ae[t]=e.target.value,"cuenta"==ae.formaPago&&(a=l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"date",label:"A pagar el",value:ae.fechaPendiente,onChange:function(e){return pe(e,"fechaPendiente")}}))),fe(a)}function ge(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/compras    ",{withCredentials:!0}).then((function(e){D(e.data.data),z(e.data.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){ge(),E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/proveedores",{withCredentials:!0}).then((function(e){_(e.data)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement(n.Fragment,null,l.a.createElement(I.a,{show:ie,onHide:function(){se(!1)}},l.a.createElement(I.a.Header,{className:"d-block"},l.a.createElement(I.a.Title,{className:"text-center"},"Detalle de Compra")),l.a.createElement(I.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Fecha:")," ",F.formatDate(re.fecha))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Proveedor:")," ",re.proveedor.nombre)),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Total:")," $",re.total)),l.a.createElement("div",{className:"itemProducto"},re.insumos.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.insumo.nombre," a $",e.precio," X ",e.cantidad)}))))),l.a.createElement(I.a,{show:Y,onHide:he},l.a.createElement(I.a.Header,{className:"d-block"},l.a.createElement(I.a.Title,{className:"text-center"},"Agregar Insumo")),l.a.createElement(I.a.Body,null,l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Insumos"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",onChange:function(e){return function(e){var t=A.filter((function(t){return t.insumoId==e}));null!=t&&w(t[0])}(e.target.value)}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione un insumo"),A.map((function(e,t){return l.a.createElement("option",{key:t,value:e.insumoId},e.nombre)})))),null!=O&&l.a.createElement(n.Fragment,null,l.a.createElement("div",null,"Costo: $",O.costo)),l.a.createElement("div",{className:"fg",style:{height:60,marginTop:"0.5rem"}},l.a.createElement("input",{type:"number",placeholder:" ",style:{width:"100%"},onChange:function(e){return h(e.target.value)}}),l.a.createElement("label",null,"Cantidad")),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{onClick:function(){var e=m,t=O,n=a;t.cantidad=Number(f),e.push(t),n+=Number(f)*Number(t.costo),c(n),u(e),ae.insumos=m,he(),ae.total=n}},"Agregar")))),l.a.createElement(v.a,{className:"mt-3"},R?l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){R&&W(!1)}},"Volver")),l.a.createElement(y.a,{xs:6,md:8,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"Nueva compra")),l.a.createElement(y.a,{xs:3,md:2}))))),l.a.createElement(N.a,{className:"py-4"},l.a.createElement(C.a,{className:"justify-content-center"},l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"date",label:"Fecha",value:ae.fecha,onChange:function(e){return pe(e,"fecha")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Proveedor"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",style:{width:"250px"},onChange:function(e){var t;t=e.target.value,E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/insumos/"+t,{withCredentials:!0}).then((function(e){console.log(e.data),P(e.data.data)})).catch((function(e){console.log(e)})),ae.compra_proveedorId=Number(e.target.value)}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione un proveedor"),H.map((function(e,t){return l.a.createElement("option",{key:t,value:e.proveedorId},e.nombre)}))))),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Forma de Pago"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",style:{width:"250px"},onChange:function(e){return pe(e,"formaPago")}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione una forma de pago"),l.a.createElement("option",{value:"efectivo"},"Efectivo"),l.a.createElement("option",{value:"cuenta"},"A cuenta")))),be),l.a.createElement(C.a,{className:"mt-3"},l.a.createElement(y.a,{className:"justify-content-center text-right"},l.a.createElement("h5",null,"Insumos")),l.a.createElement(y.a,{style:{alignSelf:"center"}},l.a.createElement("button",{className:"compact",onClick:function(){return Z(!0)}},"Agregar"))),l.a.createElement(C.a,null,m?l.a.createElement(y.a,{className:"itemProducto"},m.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.nombre," X ",e.cantidad)}))):l.a.createElement(y.a,{className:"text-center py-5"},l.a.createElement("div",null,"No hay insumos cargados"))),l.a.createElement(C.a,null,l.a.createElement(y.a,{className:"text-center mt-5"},l.a.createElement("h5",null,"Subtotal: $",a))),l.a.createElement(C.a,{className:"justify-content-center mt-5"},l.a.createElement("button",{onClick:function(){R&&E.a.post(b.baseApiUrl+"/compras",ae).then((function(e){W(!1),ne({fecha:"",total:"",compra_proveedorId:""}),fe(""),c(0),u([]),ge()}))}},"Confirmar Compra")))):l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){ne({fecha:"",total:"",compra_proveedorId:""}),W(!0)}},"Agregar")),l.a.createElement(y.a,{xs:9,md:8},l.a.createElement("input",{onChange:function(e){var t=e.target.value;D(X.filter((function(e){return e.nombre.toLowerCase().includes(t.toLowerCase())||e.ubicacion.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())})))},className:"search-field",placeholder:"Escribe lo que deseas buscar"})),l.a.createElement(y.a,{xs:0,md:2,style:{textAlign:"end"}}))))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement(j.a,{bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"20%"},"Fecha"),l.a.createElement("th",{width:"40%"},"Proveedor"),l.a.createElement("th",{width:"40%"},"Total"),l.a.createElement("th",{width:"40%"},"Acciones"))),l.a.createElement("tbody",null,Array.isArray(V)&&V.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Fecha"),F.formatDate(e.fecha)),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Proveedor"),e.proveedor.nombre),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Total"),"$",e.total),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Acciones"),l.a.createElement("button",{className:"borderless",onClick:function(t){return function(e){oe(e),se(!0)}(e)}},"Detalle")))})))))))))},H=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),m=o[0],u=o[1],i=Object(n.useState)([]),d=Object(s.a)(i,2),f=d[0],h=d[1],p=Object(n.useState)(!1),g=Object(s.a)(p,2),O=g[0],w=g[1],S=Object(n.useState)({fecha:"",monto:"",tipo:"",descripcion:"",forma:"",fechaPendiente:""}),k=Object(s.a)(S,2),A=k[0],P=k[1],U=Object(n.useState)({compra:{},venta:{}}),T=Object(s.a)(U,2),V=T[0],D=T[1],$=Object(n.useState)(!1),G=Object(s.a)($,2),H=G[0],_=G[1];function B(e,t){var a;A[t]=e.target.value,"cuenta"==A.forma&&"Ingreso"==A.tipo?a=l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"date",label:"A cobrar el",value:A.fechaPendiente,onChange:function(e){return B(e,"fechaPendiente")}})):"cuenta"==A.forma&&"Egreso"==A.tipo&&(a=l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"date",label:"A pagar el",value:A.fechaPendiente,onChange:function(e){return B(e,"fechaPendiente")}}))),c(a)}function q(){E.a.defaults.withCredentials=!0,E.a.get(b.baseApiUrl+"/cuentas",{withCredentials:!0}).then((function(e){u(e.data.data),h(e.data.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){q()}),[]),l.a.createElement(n.Fragment,null,l.a.createElement(v.a,{className:"mt-3"},O?l.a.createElement(n.Fragment,null,l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){O&&w(!1)}},"Volver")),l.a.createElement(y.a,{xs:6,md:8,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("h5",null,"Nuevo registro")),l.a.createElement(y.a,{xs:3,md:2}))))),l.a.createElement(N.a,{className:"py-4"},l.a.createElement(C.a,{className:"justify-content-center"},l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"date",label:"Fecha",value:A.fecha,onChange:function(e){return B(e,"fecha")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"number",label:"Monto",value:A.monto,onChange:function(e){return B(e,"monto")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(x,{type:"text",label:"Descripcion",value:A.descripcion,onChange:function(e){return B(e,"descripcion")}})),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Tipo"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",style:{width:"250px"},onChange:function(e){return B(e,"tipo")}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione un tipo"),l.a.createElement("option",{value:"Ingreso"},"Ingreso"),l.a.createElement("option",{value:"Egreso"},"Egreso")))),l.a.createElement(y.a,{md:"8",className:" d-flex justify-content-center"},l.a.createElement(L.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(L.a.Label,null,"Forma de Pago"),l.a.createElement(L.a.Control,{as:"select",defaultValue:"0",style:{width:"250px"},onChange:function(e){return B(e,"forma")}},l.a.createElement("option",{value:"0",disabled:!0},"Seleccione una forma de pago"),l.a.createElement("option",{value:"efectivo"},"Efectivo"),l.a.createElement("option",{value:"cuenta"},"A cuenta")))),a),l.a.createElement(C.a,{className:"justify-content-center mt-5"},l.a.createElement("button",{onClick:function(){O&&E.a.post(b.baseApiUrl+"/cuentas",A).then((function(e){w(!1),P({fecha:"",monto:"",tipo:"",descripcion:"",forma:"",fechaPendiente:""}),c(""),q()}))}},"Confirmar")))):l.a.createElement(n.Fragment,null,l.a.createElement(I.a,{show:H,onHide:function(){_(!1)}},l.a.createElement(I.a.Header,{className:"d-block"},l.a.createElement(I.a.Title,{className:"text-center"},"Detalle")),l.a.createElement(I.a.Body,null,l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Fecha:")," ",F.formatDate(V.fecha))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Tipo:")," ",V.tipo)),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Descripcion:")," ",V.descripcion)),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Pago:")," ",V.forma)),null!=V.compra&&V.compra.proveedor&&l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Proveedor:")," ",V.compra.proveedor.nombre)),null!=V.venta&&V.venta.cliente&&l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Cliente:")," ",V.venta.cliente.nombre)),null!=V.fechaPendiente&&"Egreso"==V.tipo&&l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement("b",null,"Fecha de cobro:")," ",F.formatDate(V.fechaPendiente))),l.a.createElement(C.a,null," ",l.a.createElement(y.a,null,l.a.createElement("b",null,"Monto:")," $",V.monto)),null!=V.compra&&l.a.createElement(C.a,null,l.a.createElement(y.a,{className:"text-center"},l.a.createElement("b",null,"Detalle de compra"))),null!=V.venta&&l.a.createElement(C.a,null,l.a.createElement(y.a,{className:"text-center"},l.a.createElement("b",null,"Detalle de venta"))),l.a.createElement("div",{className:"itemProducto"},null!=V.compra&&V.compra.insumos&&V.compra.insumos.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.insumo.nombre," a $",e.precio," X ",e.cantidad)})),null!=V.venta&&V.venta.producto_venta&&V.venta.producto_venta.map((function(e,t){return l.a.createElement("div",{key:t,className:"text-center"},e.producto.nombre," a $",e.precio," X ",e.cantidad)}))))),l.a.createElement(C.a,{className:"mb-3"},l.a.createElement(y.a,null,l.a.createElement(N.a,{style:{display:"inline-block",width:"100%"}},l.a.createElement(C.a,null,l.a.createElement(y.a,{xs:3,md:2},l.a.createElement("button",{onClick:function(){P({}),w(!0)}},"Agregar")),l.a.createElement(y.a,{xs:9,md:8},l.a.createElement("input",{onChange:function(e){var t=e.target.value;u(f.filter((function(e){return e.nombre.toLowerCase().includes(t.toLowerCase())||e.ubicacion.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())})))},className:"search-field",placeholder:"Escribe lo que deseas buscar"})),l.a.createElement(y.a,{xs:0,md:2,style:{textAlign:"end"}}))))),l.a.createElement(C.a,null,l.a.createElement(y.a,null,l.a.createElement(j.a,{bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"20%"},"Fecha"),l.a.createElement("th",{width:"20%"},"Descripci\xf3n"),l.a.createElement("th",{width:"20%"},"Tipo"),l.a.createElement("th",{width:"20%"},"Forma de Pago"),l.a.createElement("th",{width:"20%"},"Total"),l.a.createElement("th",{width:"20%"},"Acciones"))),l.a.createElement("tbody",null,Array.isArray(m)&&m.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Fecha"),F.formatDate(e.fecha)),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Descripcion"),e.descripcion),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Tipo"),e.tipo),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Forma de pago"),e.forma),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Total"),"$",e.monto),l.a.createElement("td",null,l.a.createElement("div",{className:"td-tag"},"Acciones"),l.a.createElement("button",{className:"borderless",onClick:function(t){return function(e){D(e),_(!0)}(e)}},"Detalle")))})))))))))},_=function(){return l.a.createElement(h,null,l.a.createElement(B,null))};function B(){var e=p().usuario;return l.a.createElement(i.a,null,l.a.createElement(g,null),l.a.createElement(w.d,null,l.a.createElement(A,{component:S,path:"/login",redirectTo:"/",auth:null==e}),l.a.createElement(A,{component:O,path:"/Clientes",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:P,path:"/Ventas",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:G,path:"/Compras",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:U,path:"/Insumos",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:T,path:"/Stock",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:$,path:"/Proveedores",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:H,path:"/Cuenta",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:D,path:"/inicio",redirectTo:"/login",auth:null!=e}),l.a.createElement(A,{component:V,path:"/",redirectTo:"/inicio",auth:null==e})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(102);r.a.render(l.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){},71:function(e,t,a){e.exports=a(103)},76:function(e,t,a){},77:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.b007bc04.chunk.js.map